@using Jarboo.Admin.Web.Models
@model Jarboo.Admin.Web.Models.Time.TimeListViewModel
@if (Model != null)
{
    <table id="Taskview_dt_basic_times" class="table table-striped table-bordered table-hover dataTable no-footer" width="100%" role="grid" aria-describedby="dt_basic_info" style="width: 100%;">
        <thead>
            <tr role="row">
                <th>Name</th>
                <th>Date</th>
                <th>Role</th>
                <th>Amount</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var tim in Model.Times)
            {
                <tr role="row">
                    <td>@tim.Employee.FullName</td>
                    <td>@tim.DateCreated</td>
                    <td>@tim.Role</td>
                    <td>@tim.Hours</td>
                    <td>
                        @if (this.Can(MVC.SpentTime.Delete()))
                        {
                            using (Ajax.BeginForm(MVC.SpentTime.ActionNames.Delete, MVC.SpentTime.Name, new { id = tim.SpentTimeId, taskId = tim.TaskId, projectId = tim.ProjectId }, new AjaxOptions { UpdateTargetId = "widget-grid-hours" }, null))
                            {                                   @Html.AntiForgeryToken()
                            <input type="submit" value="Delete" class="btn  btn-danger delete-btn-form" />
                            }
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
}